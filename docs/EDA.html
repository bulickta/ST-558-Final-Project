<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Thomas Bulick">
<meta name="dcterms.date" content="2024-07-29">

<title>EDA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">EDA</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Thomas Bulick </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 29, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This is exploratory data analysis of diabetes data from the Behavioral Risk Factor Surveillance System, a health-related telephone survey run annually by the CDC. This data specifically is from 2015, and contains 22 variables including:</p>
<ul>
<li>Diabetes_binary - Indicator variable for 0 = No diabetes, 1 = Diabetes</li>
<li>HighBP - Indicator variable for high blood pressure</li>
<li>HighChol - Indicator variable for high cholesterol</li>
<li>CholCheck - Indicator variable for a cholesterol check in the last 5 years</li>
<li>BMI - Calculated BMI</li>
<li>Smoker - Indicator variable for lifetime smoking at least 100 cigarettes</li>
<li>Stroke - Indicator variable for ever having a strokee</li>
<li>HeartDiseaseorAttack - Indicator variable for ever having heart disease or a heart attack</li>
<li>PhysActivity - Indicator variable for physical (non-job related) activity in the last 30 days</li>
<li>Fruits - Indicator variable for consuming fruit at least once a day</li>
<li>Veggies - Indicator variable for consuming vegetables at least once a day</li>
<li>HvyAlcoholConsump - Indicator variable for heavy alcohol consumption defined as &gt;14 drinks per week for men or &gt;7 drinks per week for women</li>
<li>AnyHealthcare - Indicator variable for any level of health care coverage/health insurance</li>
<li>NoDocbcCost - Indicator variable for whether the individual neeeded to see a doctor but did not due to cost in the last 12 months</li>
<li>GenHlth - Self rating of general health from 1 = excellent to 5 = poor</li>
<li>MentHlth - Self reporting of number of poor mental health days in the past 30 days</li>
<li>PhysHlth - Self reporting of number of poor physical health days in the past 30 days</li>
<li>DiffWalk - Indicator variable for difficulty walking or climbing stairs</li>
<li>Sex - Indicator variable for sex, 0 = female and 1 = male</li>
<li>Age - Ages grouped according to:
<ul>
<li>1 = Age 18 to 24</li>
<li>2 = Age 25 to 29</li>
<li>3 = Age 30 to 34</li>
<li>4 = Age 35 to 39</li>
<li>5 = Age 40 to 44</li>
<li>6 = Age 45 to 49</li>
<li>7 = Age 50 to 54</li>
<li>8 = Age 55 to 59</li>
<li>9 = Age 60 to 64</li>
<li>10 = Age 65 to 69</li>
<li>11 = Age 70 to 74</li>
<li>12 = Age 75 to 79</li>
<li>13 = Age 80 or older</li>
</ul></li>
<li>Education - Level of education scale corresponding to:
<ul>
<li>1 = No school or only Kindergarten</li>
<li>2 = Elementary Education</li>
<li>3 = Some High School</li>
<li>4 = High School Graduate</li>
<li>5 = Some College or Technical School</li>
<li>6 = College Graduate</li>
</ul></li>
<li>Income - Level of Income corresponding to:
<ul>
<li>1 = Less than $10,000</li>
<li>2 = Between $10,000 and $15,000</li>
<li>3 = Between $15,000 and $20,000</li>
<li>4 = Between $20,000 and $25,000</li>
<li>5 = Between $25,000 and $35,000</li>
<li>6 = Between $35,000 and $50,000</li>
<li>7 = Between $50,000 and $75,000</li>
<li>8 = Above $75,000</li>
</ul></li>
</ul>
<p>The goal of this EDA is to determine any potential variables that appear to be related to our binary diabetes response variable.</p>
</section>
<section id="data-summarization-and-exploration" class="level2">
<h2 class="anchored" data-anchor-id="data-summarization-and-exploration">Data Summarization and Exploration</h2>
<p>After reading in the raw data and assigning the indicator variables as meaningful factors, we check and see there are no instances of missing data in this data set.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"~/diabetes_binary_health_indicators_BRFSS2015.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diabetes_binary =</span> <span class="fu">factor</span>(Diabetes_binary,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No Diabetes"</span>,<span class="st">"Diabetes"</span>)),<span class="at">HighBP=</span><span class="fu">factor</span>(HighBP,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Normal"</span>,<span class="st">"High"</span>)),<span class="at">HighChol=</span><span class="fu">factor</span>(HighChol,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Normal"</span>,<span class="st">"High"</span>)),<span class="at">CholCheck=</span><span class="fu">factor</span>(CholCheck,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">Smoker=</span><span class="fu">factor</span>(Smoker,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">Stroke=</span><span class="fu">factor</span>(Stroke,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">HeartDiseaseorAttack=</span><span class="fu">factor</span>(HeartDiseaseorAttack,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">PhysActivity=</span><span class="fu">factor</span>(PhysActivity,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">Fruits=</span><span class="fu">factor</span>(Fruits,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">Veggies=</span><span class="fu">factor</span>(Veggies,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">HvyAlcoholConsump=</span><span class="fu">factor</span>(HvyAlcoholConsump,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">AnyHealthcare=</span><span class="fu">factor</span>(AnyHealthcare,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">NoDocbcCost=</span><span class="fu">factor</span>(NoDocbcCost,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">GenHlth=</span><span class="fu">factor</span>(GenHlth,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Excellent"</span>,<span class="st">"Very Good"</span>,<span class="st">"Good"</span>,<span class="st">"Fair"</span>,<span class="st">"Poor"</span>)),<span class="at">DiffWalk=</span><span class="fu">factor</span>(DiffWalk,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No"</span>,<span class="st">"Yes"</span>)),<span class="at">Sex=</span><span class="fu">factor</span>(Sex,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Female"</span>,<span class="st">"Male"</span>)),<span class="at">Age=</span><span class="fu">factor</span>(Age,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"18-24"</span>,<span class="st">"25-29"</span>,<span class="st">"30-34"</span>,<span class="st">"35-39"</span>,<span class="st">"40-44"</span>,<span class="st">"45-49"</span>,<span class="st">"50-54"</span>,<span class="st">"55-59"</span>,<span class="st">"60-64"</span>,<span class="st">"65-69"</span>,<span class="st">"70-74"</span>,<span class="st">"75-79"</span>,<span class="st">"80 and older"</span>)),<span class="at">Education=</span><span class="fu">factor</span>(Education,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"No school/Kindergarten"</span>,<span class="st">"Elementary Education"</span>,<span class="st">"Some High School"</span>,<span class="st">"High School Graduate"</span>,<span class="st">"Some College or Technical School"</span>,<span class="st">"College Graduate"</span>)),<span class="at">Income=</span><span class="fu">factor</span>(Income,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Under $10k"</span>,<span class="st">"$10k-$15k"</span>,<span class="st">"$15k-$20k"</span>,<span class="st">"$20k-$25k"</span>,<span class="st">"$25k-$35k"</span>,<span class="st">"$35k-$50k"</span>,<span class="st">"$50k-$75k"</span>,<span class="st">"Over $75k"</span>)))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Diabetes_binary               HighBP             HighChol 
                   0                    0                    0 
           CholCheck                  BMI               Smoker 
                   0                    0                    0 
              Stroke HeartDiseaseorAttack         PhysActivity 
                   0                    0                    0 
              Fruits              Veggies    HvyAlcoholConsump 
                   0                    0                    0 
       AnyHealthcare          NoDocbcCost              GenHlth 
                   0                    0                    0 
            MentHlth             PhysHlth             DiffWalk 
                   0                    0                    0 
                 Sex                  Age            Education 
                   0                    0                    0 
              Income 
                   0 </code></pre>
</div>
</div>
<p>Computing some brief summary statistics, we note that, generally speaking, there are relatively few cases of diabetics compared to non-diabetics, and we can also see some distributions of common demographic information like education, income, age, and sex.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Diabetes_binary      HighBP         HighChol      CholCheck   
 No Diabetes:218334   Normal:144851   Normal:146089   No :  9470  
 Diabetes   : 35346   High  :108829   High  :107591   Yes:244210  
                                                                  
                                                                  
                                                                  
                                                                  
                                                                  
      BMI        Smoker       Stroke       HeartDiseaseorAttack PhysActivity
 Min.   :12.00   No :141257   No :243388   No :229787           No : 61760  
 1st Qu.:24.00   Yes:112423   Yes: 10292   Yes: 23893           Yes:191920  
 Median :27.00                                                              
 Mean   :28.38                                                              
 3rd Qu.:31.00                                                              
 Max.   :98.00                                                              
                                                                            
 Fruits       Veggies      HvyAlcoholConsump AnyHealthcare NoDocbcCost 
 No : 92782   No : 47839   No :239424        No : 12417    No :232326  
 Yes:160898   Yes:205841   Yes: 14256        Yes:241263    Yes: 21354  
                                                                       
                                                                       
                                                                       
                                                                       
                                                                       
      GenHlth         MentHlth         PhysHlth      DiffWalk    
 Excellent:45299   Min.   : 0.000   Min.   : 0.000   No :211005  
 Very Good:89084   1st Qu.: 0.000   1st Qu.: 0.000   Yes: 42675  
 Good     :75646   Median : 0.000   Median : 0.000               
 Fair     :31570   Mean   : 3.185   Mean   : 4.242               
 Poor     :12081   3rd Qu.: 2.000   3rd Qu.: 3.000               
                   Max.   :30.000   Max.   :30.000               
                                                                 
     Sex              Age                                   Education     
 Female:141974   60-64  :33244   No school/Kindergarten          :   174  
 Male  :111706   65-69  :32194   Elementary Education            :  4043  
                 55-59  :30832   Some High School                :  9478  
                 50-54  :26314   High School Graduate            : 62750  
                 70-74  :23533   Some College or Technical School: 69910  
                 45-49  :19819   College Graduate                :107325  
                 (Other):87744                                            
       Income     
 Over $75k:90385  
 $50k-$75k:43219  
 $35k-$50k:36470  
 $25k-$35k:25883  
 $20k-$25k:20135  
 $15k-$20k:15994  
 (Other)  :21594  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">read.csv</span>(<span class="st">"~/diabetes_binary_health_indicators_BRFSS2015.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     Diabetes_binary       HighBP    HighChol    CholCheck
Diabetes_binary           1.00000000  0.263128790  0.20027619  0.064760810
HighBP                    0.26312879  1.000000000  0.29819930  0.098508273
HighChol                  0.20027619  0.298199295  1.00000000  0.085642228
CholCheck                 0.06476081  0.098508273  0.08564223  1.000000000
BMI                       0.21684306  0.213748120  0.10672208  0.034495087
Smoker                    0.06078851  0.096991467  0.09129936 -0.009928878
Stroke                    0.10581607  0.129574913  0.09262007  0.024157667
HeartDiseaseorAttack      0.17728226  0.209361211  0.18076535  0.044205810
PhysActivity             -0.11813311 -0.125266866 -0.07804619  0.004189617
Fruits                   -0.04077923 -0.040554659 -0.04085908  0.023849406
Veggies                  -0.05658414 -0.061266165 -0.03987361  0.006121010
HvyAlcoholConsump        -0.05705626 -0.003971574 -0.01154252 -0.023730091
AnyHealthcare             0.01625514  0.038424769  0.04222986  0.117625625
NoDocbcCost               0.03143276  0.017357984  0.01331016 -0.058255084
GenHlth                   0.29356906  0.300529631  0.20842555  0.046588865
MentHlth                  0.06931508  0.056455917  0.06206915 -0.008365598
PhysHlth                  0.17133670  0.161211571  0.12175053  0.031774808
DiffWalk                  0.21834435  0.223618466  0.14467154  0.040585057
Sex                       0.03143000  0.052206961  0.03120533 -0.022115036
Age                       0.17744187  0.344452330  0.27231823  0.090321114
Education                -0.12445597 -0.141357934 -0.07080189  0.001510491
Income                   -0.16391879 -0.171234581 -0.08545931  0.014258747
                             BMI       Smoker       Stroke HeartDiseaseorAttack
Diabetes_binary       0.21684306  0.060788506  0.105816067           0.17728226
HighBP                0.21374812  0.096991467  0.129574913           0.20936121
HighChol              0.10672208  0.091299357  0.092620074           0.18076535
CholCheck             0.03449509 -0.009928878  0.024157667           0.04420581
BMI                   1.00000000  0.013804467  0.020152661           0.05290426
Smoker                0.01380447  1.000000000  0.061172675           0.11444122
Stroke                0.02015266  0.061172675  1.000000000           0.20300194
HeartDiseaseorAttack  0.05290426  0.114441218  0.203001940           1.00000000
PhysActivity         -0.14729363 -0.087401163 -0.069151416          -0.08729899
Fruits               -0.08751812 -0.077665839 -0.013389353          -0.01979035
Veggies              -0.06227519 -0.030677710 -0.041124225          -0.03916741
HvyAlcoholConsump    -0.04873628  0.101618687 -0.016950330          -0.02899052
AnyHealthcare        -0.01847079 -0.023250803  0.008775925           0.01873419
NoDocbcCost           0.05820629  0.048945823  0.034804106           0.03099970
GenHlth               0.23918537  0.163143067  0.177942260           0.25838341
MentHlth              0.08531016  0.092196474  0.070171812           0.06462129
PhysHlth              0.12114111  0.116459714  0.148944169           0.18169754
DiffWalk              0.19707776  0.122463215  0.176566917           0.21270870
Sex                   0.04295030  0.093662361  0.002978288           0.08609551
Age                  -0.03661764  0.120641084  0.126973699           0.22161763
Education            -0.10393202 -0.161955255 -0.076008557          -0.09959992
Income               -0.10006871 -0.123937229 -0.128598578          -0.14101123
                     PhysActivity      Fruits      Veggies HvyAlcoholConsump
Diabetes_binary      -0.118133115 -0.04077923 -0.056584137      -0.057056256
HighBP               -0.125266866 -0.04055466 -0.061266165      -0.003971574
HighChol             -0.078046186 -0.04085908 -0.039873607      -0.011542519
CholCheck             0.004189617  0.02384941  0.006121010      -0.023730091
BMI                  -0.147293634 -0.08751812 -0.062275194      -0.048736275
Smoker               -0.087401163 -0.07766584 -0.030677710       0.101618687
Stroke               -0.069151416 -0.01338935 -0.041124225      -0.016950330
HeartDiseaseorAttack -0.087298987 -0.01979035 -0.039167409      -0.028990516
PhysActivity          1.000000000  0.14275586  0.153149570       0.012392236
Fruits                0.142755863  1.00000000  0.254342244      -0.035287733
Veggies               0.153149570  0.25434224  1.000000000       0.021064481
HvyAlcoholConsump     0.012392236 -0.03528773  0.021064481       1.000000000
AnyHealthcare         0.035504737  0.03154392  0.029583817      -0.010488085
NoDocbcCost          -0.061638387 -0.04424269 -0.032231705       0.004683595
GenHlth              -0.266185624 -0.10385417 -0.123066330      -0.036723570
MentHlth             -0.125587088 -0.06821738 -0.058883553       0.024715803
PhysHlth             -0.219229522 -0.04463332 -0.064290327      -0.026415474
DiffWalk             -0.253174007 -0.04835167 -0.080505717      -0.037668174
Sex                   0.032481686 -0.09117487 -0.064765156       0.005740219
Age                  -0.092510633  0.06454722 -0.009771198      -0.034577637
Education             0.199658057  0.11018710  0.154329262       0.023996867
Income                0.198539455  0.07992931  0.151086944       0.053618566
                     AnyHealthcare  NoDocbcCost      GenHlth     MentHlth
Diabetes_binary        0.016255140  0.031432763  0.293569063  0.069315083
HighBP                 0.038424769  0.017357984  0.300529631  0.056455917
HighChol               0.042229862  0.013310163  0.208425550  0.062069154
CholCheck              0.117625625 -0.058255084  0.046588865 -0.008365598
BMI                   -0.018470787  0.058206290  0.239185373  0.085310159
Smoker                -0.023250803  0.048945823  0.163143067  0.092196474
Stroke                 0.008775925  0.034804106  0.177942260  0.070171812
HeartDiseaseorAttack   0.018734186  0.030999705  0.258383409  0.064621292
PhysActivity           0.035504737 -0.061638387 -0.266185624 -0.125587088
Fruits                 0.031543919 -0.044242689 -0.103854171 -0.068217375
Veggies                0.029583817 -0.032231705 -0.123066330 -0.058883553
HvyAlcoholConsump     -0.010488085  0.004683595 -0.036723570  0.024715803
AnyHealthcare          1.000000000 -0.232532105 -0.040817072 -0.052706597
NoDocbcCost           -0.232532105  1.000000000  0.166397186  0.192106853
GenHlth               -0.040817072  0.166397186  1.000000000  0.301674393
MentHlth              -0.052706597  0.192106853  0.301674393  1.000000000
PhysHlth              -0.008276167  0.148997564  0.524363644  0.353618868
DiffWalk               0.007074092  0.118446862  0.456919503  0.233688079
Sex                   -0.019405465 -0.044931366 -0.006091004 -0.080704863
Age                    0.138045679 -0.119777068  0.152449830 -0.092068024
Education              0.122514239 -0.100701002 -0.284911532 -0.101829695
Income                 0.157999279 -0.203182369 -0.370013734 -0.209806127
                         PhysHlth     DiffWalk          Sex          Age
Diabetes_binary       0.171336700  0.218344352  0.031429998  0.177441872
HighBP                0.161211571  0.223618466  0.052206961  0.344452330
HighChol              0.121750528  0.144671538  0.031205330  0.272318226
CholCheck             0.031774808  0.040585057 -0.022115036  0.090321114
BMI                   0.121141107  0.197077760  0.042950303 -0.036617635
Smoker                0.116459714  0.122463215  0.093662361  0.120641084
Stroke                0.148944169  0.176566917  0.002978288  0.126973699
HeartDiseaseorAttack  0.181697536  0.212708695  0.086095508  0.221617632
PhysActivity         -0.219229522 -0.253174007  0.032481686 -0.092510633
Fruits               -0.044633325 -0.048351675 -0.091174865  0.064547217
Veggies              -0.064290327 -0.080505717 -0.064765156 -0.009771198
HvyAlcoholConsump    -0.026415474 -0.037668174  0.005740219 -0.034577637
AnyHealthcare        -0.008276167  0.007074092 -0.019405465  0.138045679
NoDocbcCost           0.148997564  0.118446862 -0.044931366 -0.119777068
GenHlth               0.524363644  0.456919503 -0.006091004  0.152449830
MentHlth              0.353618868  0.233688079 -0.080704863 -0.092068024
PhysHlth              1.000000000  0.478416619 -0.043136502  0.099129925
DiffWalk              0.478416619  1.000000000 -0.070298902  0.204450090
Sex                  -0.043136502 -0.070298902  1.000000000 -0.027340383
Age                   0.099129925  0.204450090 -0.027340383  1.000000000
Education            -0.155092517 -0.192642100  0.019479786 -0.101901070
Income               -0.266798962 -0.320124244  0.127141058 -0.127775278
                        Education      Income
Diabetes_binary      -0.124455969 -0.16391879
HighBP               -0.141357934 -0.17123458
HighChol             -0.070801887 -0.08545931
CholCheck             0.001510491  0.01425875
BMI                  -0.103932022 -0.10006871
Smoker               -0.161955255 -0.12393723
Stroke               -0.076008557 -0.12859858
HeartDiseaseorAttack -0.099599915 -0.14101123
PhysActivity          0.199658057  0.19853946
Fruits                0.110187097  0.07992931
Veggies               0.154329262  0.15108694
HvyAlcoholConsump     0.023996867  0.05361857
AnyHealthcare         0.122514239  0.15799928
NoDocbcCost          -0.100701002 -0.20318237
GenHlth              -0.284911532 -0.37001373
MentHlth             -0.101829695 -0.20980613
PhysHlth             -0.155092517 -0.26679896
DiffWalk             -0.192642100 -0.32012424
Sex                   0.019479786  0.12714106
Age                  -0.101901070 -0.12777528
Education             1.000000000  0.44910642
Income                0.449106424  1.00000000</code></pre>
</div>
</div>
<p>We then create some exploratory plots comparing the distributions of all variables compared to our response, noting some potential variable of interest in HighBP, HighChol, BMI, GenHlth, and DiffWalk, based on the high numerical correlations above and the visuals of how, for each of these variables appears to change the distribution expected diabetic vs non-diabetic.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>gg<span class="ot">&lt;-</span><span class="fu">ggplot</span>(data,<span class="fu">aes</span>(<span class="at">x=</span>Diabetes_binary))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>HighBP))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>HighChol))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>Smoker))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>Stroke))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>HeartDiseaseorAttack))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>PhysActivity))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>Fruits))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>Veggies))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>j <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>HvyAlcoholConsump))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>AnyHealthcare))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>NoDocbcCost))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>GenHlth))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>DiffWalk))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>o <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>Sex))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>Age))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>Education))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">y=</span>Income))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>BMI,<span class="at">fill=</span>Diabetes_binary))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>MentHlth,<span class="at">fill=</span>Diabetes_binary))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>u <span class="ot">&lt;-</span> gg<span class="sc">+</span><span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>PhysHlth,<span class="at">fill=</span>Diabetes_binary))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Diabetes"</span>)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,<span class="at">ncol=</span><span class="dv">2</span>,<span class="at">nrow=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`1`</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
$`2`</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
$`3`</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
$`4`</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/unnamed-chunk-3-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
$`5`</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/unnamed-chunk-3-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
attr(,"class")
[1] "list"      "ggarrange"</code></pre>
</div>
</div>
<p><a href="Modeling.html">Click here for the Modeling Page</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>